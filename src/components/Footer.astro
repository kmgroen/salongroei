---
import FooterBrand from './FooterBrand.astro';
import FooterLinkColumn from './FooterLinkColumn.astro';
import SocialLinks from './SocialLinks.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const resourceLinks = [
    { text: t('footer.resources.compare'), href: lang === 'nl' ? '/tools' : '/en/tools' },
    { text: t('footer.resources.guides'), href: lang === 'nl' ? '/guides' : '/en/guides' },
    { text: t('footer.resources.marketing'), href: lang === 'nl' ? '/blog' : '/en/blog' },
    { text: t('footer.resources.blog'), href: lang === 'nl' ? '/blog' : '/en/blog' }
];

const communityLinks = [
    { text: t('footer.community.stories'), href: lang === 'nl' ? '/blog' : '/en/blog' },
    { text: t('footer.community.forum'), href: 'mailto:contact@salongroei.com' },
    { text: t('footer.community.events'), href: lang === 'nl' ? '/guides' : '/en/guides' }
];
---
<footer class="bg-background-light dark:bg-background-dark border-t border-expert-navy/10 pt-20 pb-10" role="contentinfo">
    <div class="max-w-[1200px] mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-20">
            <FooterBrand />
            <FooterLinkColumn title={t('footer.resources')} links={resourceLinks} />
            <FooterLinkColumn title={t('footer.community')} links={communityLinks} />
            <SocialLinks />
        </div>
        <div class="border-t border-expert-navy/5 pt-10 flex flex-col md:flex-row justify-between items-center gap-6">
            <p class="text-xs text-expert-navy/40">{t('footer.copyright')}</p>
            <nav class="flex gap-8 text-xs font-bold text-expert-navy/40" aria-label={lang === 'nl' ? 'Juridische navigatie' : 'Legal navigation'}>
                <a class="hover:text-expert-navy focus:outline-2 focus:outline-primary focus:outline-offset-2" href={lang === 'nl' ? '/privacy' : '/en/privacy'}>{t('footer.privacy')}</a>
                <a class="hover:text-expert-navy focus:outline-2 focus:outline-primary focus:outline-offset-2" href={lang === 'nl' ? '/terms' : '/en/terms'}>{t('footer.terms')}</a>
                <a class="hover:text-expert-navy focus:outline-2 focus:outline-primary focus:outline-offset-2" href={lang === 'nl' ? '/cookies' : '/en/cookies'}>{t('footer.cookies')}</a>
            </nav>
        </div>
    </div>
</footer>
